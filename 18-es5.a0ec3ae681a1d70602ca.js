!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"8U0d":function(t,i,a){"use strict";a.d(i,"a",(function(){return f}));var r=a("iELJ"),o=a("8Y7J"),c=a("mb36"),s=a("iInd"),d=a("yoZy"),b=a("EApP"),l=a("flBB"),u=a("s7LF"),h=a("SVse");function p(e,t){if(1&e&&(o.Sb(0,"div"),o.Nb(1,"img",23),o.Rb()),2&e){var n=o.hc();o.zb(1),o.mc("src",n.imageUrl,o.Bc)}}var f=function(){var t=function(){function t(n,i,a,r,o,c,s,d,b){e(this,t),this.dialogRef=n,this.dialog=i,this.baseService=a,this.activatedRoute=r,this.router=o,this.brandsService=c,this.toastService=s,this.fileUploadService=d,this.data=b,this.paramId=null,this.titleStatus="Create new",this.buttonStatus="Create"}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.addBrandForm=this.brandsService.initializeBrandForm(),this.paramId=this.activatedRoute.snapshot.paramMap.get("id"),this.paramId&&(this.titleStatus="Update",this.buttonStatus="Update",this.brandsService.brand_details(this.paramId).subscribe((function(t){e.addBrandForm=e.brandsService.populateForm(t),e.imageUrl=null==t?void 0:t.image,e.selectedFile=null==t?void 0:t.image})))}},{key:"onFileChanged",value:function(e){var t=this;if(this.selectedFile=e.target.files[0],e.target.files&&e.target.files[0]){if(e.target.files[0].size>=5e6)return this.selectedFile=null,void window.alert("Image size must be less than 5MB");this.fileUploadService.uploadImage(e.target.files).subscribe((function(e){t.assignFile(e)}),(function(e){t.toastService.error("Image upload failed, please try again later")}));for(var n=e.target.files.length,i=0;i<n;i++){var a=new FileReader;a.onload=function(e){t.imageUrl=e.target.result},a.readAsDataURL(e.target.files[i])}}}},{key:"assignFile",value:function(e){for(var t,n=0;n<e.length;n++)t=e[n].thumb_url;this.f.image.setValue(t)}},{key:"closeDialog",value:function(e){this.dialog.openDialogs&&this.dialog.openDialogs.length?0==this.dialogRef.getState()&&this.dialogRef.close(e):this.router.navigate(["/brands"])}},{key:"createBrand",value:function(){var e=this;"Create"==this.buttonStatus?this.brandsService.add_brands(this.addBrandForm.value).subscribe((function(t){e.toastService.success("Brand Created Successfully"),e.data?e.closeDialog(t):e.router.navigate(["brands"])}),(function(t){417!=t.status?e.baseService.handleError(t):e.toastService.error("This brand name is already exists.","")})):this.brandsService.update_brand(this.paramId,this.addBrandForm.value).subscribe((function(t){e.toastService.success("Brand Updated Successfully"),e.router.navigate(["brands"])}),(function(t){417!=t.status?e.baseService.handleError(t):e.toastService.error("This brand name is already exists.","")}))}},{key:"f",get:function(){return this.addBrandForm.controls}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Mb(r.e),o.Mb(r.b),o.Mb(c.a),o.Mb(s.a),o.Mb(s.f),o.Mb(d.a),o.Mb(b.b),o.Mb(l.a),o.Mb(r.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-add-brand"]],decls:35,vars:6,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup"],[1,"form-group"],["for","exampleInputName1"],["type","text","id","exampleInputName1","placeholder","Brand Name","formControlName","name",1,"form-control",3,"ngModel"],["for","exampleTextarea1"],["formControlName","description","id","exampleTextarea1","rows","6","placeholder","Description",1,"form-control"],[1,"row"],[1,"col-md-12"],["type","file","name","img[]",1,"file-upload-default"],[1,"input-group","col-xs-12"],["type","file",1,"form-control","file-upload-info",3,"change"],["fileInput",""],[1,"input-group-append"],["type","button",1,"file-upload-browse","btn","btn-gradient-primary",3,"click"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-gradient-success","btn-icon-text","btn-sm",3,"disabled","click"],[1,"mdi","mdi-file-check","btn-icon-prepend"],["type","button",1,"btn","btn-gradient-danger","btn-icon-text","btn-sm",3,"click"],[1,"mdi","mdi-close","btn-icon-prepend"],["alt","",1,"imageClass",3,"src"]],template:function(e,t){if(1&e){var n=o.Tb();o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"h4",2),o.Lc(3),o.Rb(),o.Sb(4,"form",3),o.Sb(5,"div",4),o.Sb(6,"label",5),o.Lc(7,"Brand Name "),o.Sb(8,"sup"),o.Lc(9,"*"),o.Rb(),o.Rb(),o.Nb(10,"input",6),o.Rb(),o.Sb(11,"div",4),o.Sb(12,"label",7),o.Lc(13,"Description"),o.Rb(),o.Nb(14,"textarea",8),o.Rb(),o.Sb(15,"div",9),o.Sb(16,"div",10),o.Sb(17,"div",4),o.Sb(18,"label"),o.Lc(19,"Logo"),o.Rb(),o.Nb(20,"input",11),o.Sb(21,"div",12),o.Sb(22,"input",13,14),o.dc("change",(function(e){return t.onFileChanged(e)})),o.Rb(),o.Sb(24,"span",15),o.Sb(25,"button",16),o.dc("click",(function(){return o.zc(n),o.wc(23).click()})),o.Lc(26,"Upload"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Jc(27,p,2,1,"div",17),o.Rb(),o.Rb(),o.Sb(28,"div",18),o.Sb(29,"button",19),o.dc("click",(function(){return t.createBrand()})),o.Nb(30,"i",20),o.Lc(31),o.Rb(),o.Sb(32,"button",21),o.dc("click",(function(){return t.closeDialog({id:-1})})),o.Nb(33,"i",22),o.Lc(34," Cancel "),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()}2&e&&(o.zb(3),o.Nc("",t.titleStatus," brand"),o.zb(1),o.mc("formGroup",t.addBrandForm),o.zb(6),o.mc("ngModel",null==t.data?null:t.data.name),o.zb(17),o.mc("ngIf",t.selectedFile),o.zb(2),o.mc("disabled",t.addBrandForm.invalid),o.zb(2),o.Nc(" ",t.buttonStatus," "))},directives:[u.x,u.o,u.h,u.c,u.n,u.f,h.m],styles:[".imageClass[_ngcontent-%COMP%]{height:70px;width:100px}.modal-footer[_ngcontent-%COMP%]{border-top:none}.file-upload-info[_ngcontent-%COMP%]{padding:7px}.card-title[_ngcontent-%COMP%]{margin-bottom:1.75rem}sup[_ngcontent-%COMP%]{color:#ca371d}"]}),t}()},flBB:function(t,i,a){"use strict";a.d(i,"a",(function(){return d}));var r=a("8Y7J"),o=a("8yjs"),c=a("lX9O"),s=a("IheW"),d=function(){var t=function(){function t(n,i,a){e(this,t),this.apiEndpoints=n,this.authService=i,this.http=a}return n(t,[{key:"uploadImage",value:function(e){for(var t=new FormData,n=0;n<e.length;n++)t.append("files",e[n]);var i=this.apiEndpoints.IMAGE.UPLOAD()+this.authService.getAccessToken();return this.http.post(i,t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.ac(o.a),r.ac(c.a),r.ac(s.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},yO0g:function(t,i,a){"use strict";a.r(i),a.d(i,"BrandsModule",(function(){return L}));var r=a("SVse"),o=a("iInd"),c=a("8Y7J"),s=a("yoZy"),d=a("mb36"),b=a("EApP"),l=a("LqlI"),u=a("s7LF"),h=a("G0yt"),p=a("a3+x"),f=function(e){return["add",e]};function g(e,t){if(1&e){var n=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.Nb(2,"img",22),c.Rb(),c.Sb(3,"td"),c.Lc(4),c.Rb(),c.Sb(5,"td"),c.Sb(6,"button",23),c.dc("click",(function(){c.zc(n);var e=t.$implicit,i=c.hc(2),a=c.wc(26);return i.openModal(a,e)})),c.Lc(7," More Information "),c.Rb(),c.Rb(),c.Sb(8,"td"),c.Sb(9,"a",24),c.Sb(10,"i",25),c.Lc(11,"\ue254"),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"td",26),c.Sb(13,"button",27),c.dc("confirm",(function(){c.zc(n);var e=t.$implicit;return c.hc(2).onRemoveBrands(e)}))("cancel",(function(){return c.zc(n),c.hc(2).cancelClicked=!0})),c.Sb(14,"i",25),c.Lc(15,"\ue872"),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&e){var i=t.$implicit,a=c.hc(2);c.zb(2),c.nc("src",null==i?null:i.image,c.Bc),c.zb(2),c.Mc(null==i?null:i.name),c.zb(5),c.mc("routerLink",c.qc(5,f,i.id)),c.zb(4),c.mc("popoverTitle",a.popoverTitle)("popoverMessage",a.popoverMessage)}}function v(e,t){if(1&e&&(c.Sb(0,"div",18),c.Sb(1,"table",19),c.Sb(2,"thead",20),c.Sb(3,"tr"),c.Sb(4,"th"),c.Lc(5," Logo "),c.Rb(),c.Sb(6,"th"),c.Lc(7," Name "),c.Rb(),c.Sb(8,"th"),c.Lc(9," Action "),c.Rb(),c.Sb(10,"th"),c.Lc(11," Update "),c.Rb(),c.Sb(12,"th"),c.Lc(13," Delete "),c.Rb(),c.Rb(),c.Rb(),c.Sb(14,"tbody"),c.Jc(15,g,16,7,"tr",21),c.Rb(),c.Rb(),c.Rb()),2&e){var n=c.hc();c.zb(15),c.mc("ngForOf",null==n.brands?null:n.brands.content)}}function m(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",28),c.Sb(2,"div",29),c.Sb(3,"div",30),c.Sb(4,"span",31),c.Lc(5,"Loading..."),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb())}function S(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",28),c.Sb(2,"div",32),c.Nb(3,"img",33),c.Rb(),c.Rb(),c.Rb())}function R(e,t){if(1&e){var n=c.Tb();c.Sb(0,"div",34),c.Sb(1,"h4",35),c.Lc(2),c.Rb(),c.Sb(3,"button",36),c.dc("click",(function(){return c.zc(n),c.hc().modalRef.hide()})),c.Sb(4,"span",37),c.Lc(5,"\xd7"),c.Rb(),c.Rb(),c.Rb(),c.Sb(6,"div",38),c.Sb(7,"div",39),c.Sb(8,"div",0),c.Sb(9,"div",28),c.Nb(10,"img",40),c.Sb(11,"p"),c.Sb(12,"span",41),c.Lc(13,"Name: "),c.Rb(),c.Lc(14),c.Rb(),c.Rb(),c.Sb(15,"div",28),c.Sb(16,"p"),c.Sb(17,"span",41),c.Lc(18,"Description: "),c.Rb(),c.Lc(19),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&e){var i=c.hc();c.zb(2),c.Nc("Brand Details of ",null==i.iBrand?null:i.iBrand.name,""),c.zb(8),c.nc("src",null==i.iBrand?null:i.iBrand.image,c.Bc),c.zb(4),c.Mc(null==i.iBrand?null:i.iBrand.name),c.zb(5),c.Mc(null==i.iBrand?null:i.iBrand.description)}}var y,k,B,M=((y=function(){function t(n,i,a,r){e(this,t),this.brandService=n,this.baseService=i,this.toastr=a,this.modalService=r,this.loading=!0,this.size=10,this.page=1,this.search_key="",this.popoverTitle="Are you sure?",this.popoverMessage="Are you really sure you want to delete this?",this.cancelClicked=!1}return n(t,[{key:"ngOnInit",value:function(){this.get_brands(this.page-1,this.size)}},{key:"get_brands",value:function(e,t){var n=this;this.loading=!0,this.brandService.get_brands(e,t).subscribe((function(e){n.brands=e,n.loading=!1}),(function(e){n.loading=!1,n.baseService.handleError(e)}))}},{key:"onPaginateChange",value:function(e){this.get_brands(e-1,this.size)}},{key:"searchBrand",value:function(){var e=this;""!=this.search_key?(this.loading=!0,this.brandService.search_brands(this.search_key).subscribe((function(t){e.brands=t,e.loading=!1}),(function(t){e.loading=!1,e.baseService.handleError(t)}))):this.get_brands(this.page-1,this.size)}},{key:"_searchBrand",value:function(e){""==e&&this.get_brands(this.page-1,this.size)}},{key:"onRemoveBrands",value:function(e){var t=this;this.brandService.remove_brands(e.id).subscribe((function(e){t.toastr.success("Deleted Successfully!",""),t.ngOnInit()}),(function(e){t.baseService.handleError(e)}))}},{key:"openModal",value:function(e,t){this.iBrand=t,this.modalRef=this.modalService.show(e)}}]),t}()).\u0275fac=function(e){return new(e||y)(c.Mb(s.a),c.Mb(d.a),c.Mb(b.b),c.Mb(l.a))},y.\u0275cmp=c.Gb({type:y,selectors:[["app-brand-list"]],decls:27,vars:8,consts:[[1,"row"],[1,"col-lg-12","grid-margin","stretch-card","mb-0"],[1,"card"],[1,"card-body"],[1,"card-title","row"],[1,"col-md-4"],["type","button","routerLink","add",1,"btn","btn-gradient-success","btn-rounded","btn-fw","btn-sm"],[1,"col-md-4","text-center"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","brand's name","aria-label","brand's username",1,"form-control",3,"ngModel","keyup.enter","input","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-sm","btn-gradient-primary",3,"click"],["class","table-responsive pt-3",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-lg-12","grid-margin","stretch-card"],["aria-label","Default pagination",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","page","maxSize","pageChange"],["template",""],[1,"table-responsive","pt-3"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["alt","no images","width","100%","height","auto",1,"img-fluid",3,"src"],["type","button",1,"btn","btn-dark","btn-sm",3,"click"],["title","Edit","data-toggle","tooltip",1,"edit",3,"routerLink"],[1,"material-icons"],[1,"p-0"],["mwlConfirmationPopover","","placement","left",1,"btn","delete",3,"popoverTitle","popoverMessage","confirm","cancel"],[1,"col-12"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","m-5",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"text-center"],["src","./assets/icon/nodatafound.jpg","alt","not found image",1,"rounded",2,"width","400px","height","300px"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","py-0"],[1,"containers-fluid"],["alt","no images","width","100px","height","auto",1,"img-fluid",3,"src"],[1,"font-weight-bold"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Sb(5,"div",5),c.Sb(6,"button",6),c.Lc(7,"Add Brand "),c.Rb(),c.Rb(),c.Sb(8,"div",7),c.Sb(9,"h2"),c.Lc(10,"Brands"),c.Rb(),c.Rb(),c.Sb(11,"div",5),c.Sb(12,"div",8),c.Sb(13,"div",9),c.Sb(14,"input",10),c.dc("keyup.enter",(function(){return t.searchBrand()}))("input",(function(e){return t._searchBrand(e.target.value)}))("ngModelChange",(function(e){return t.search_key=e})),c.Rb(),c.Sb(15,"div",11),c.Sb(16,"button",12),c.dc("click",(function(){return t.searchBrand()})),c.Lc(17,"Search "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Jc(18,v,16,1,"div",13),c.Jc(19,m,6,0,"div",14),c.Jc(20,S,4,0,"div",14),c.Sb(21,"div",15),c.Sb(22,"div",2),c.Sb(23,"div",3),c.Sb(24,"ngb-pagination",16),c.dc("pageChange",(function(e){return t.page=e}))("pageChange",(function(e){return t.onPaginateChange(e)})),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Jc(25,R,20,4,"ng-template",null,17,c.Kc)),2&e&&(c.zb(14),c.mc("ngModel",t.search_key),c.zb(4),c.mc("ngIf",0==t.loading),c.zb(1),c.mc("ngIf",1==t.loading),c.zb(1),c.mc("ngIf",0==(null==t.brands?null:t.brands.totalElements)),c.zb(4),c.mc("collectionSize",null==t.brands?null:t.brands.totalElements)("pageSize",t.size)("page",t.page)("maxSize",6))},directives:[o.g,u.c,u.n,u.q,r.m,h.j,r.l,o.i,p.a],styles:[".card[_ngcontent-%COMP%]{border-radius:0}h2[_ngcontent-%COMP%]{font-size:26px;font-width:900}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{color:#ffc107;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{color:#e34724;cursor:pointer}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}"]}),y),_=a("8U0d"),w=[{path:"",component:M},{path:"add",component:_.a},{path:"add/:id",component:_.a}],z=((k=function t(){e(this,t)}).\u0275mod=c.Kb({type:k}),k.\u0275inj=c.Jb({factory:function(e){return new(e||k)},imports:[[o.j.forChild(w)],o.j]}),k),C=a("iELJ"),L=((B=function t(){e(this,t)}).\u0275mod=c.Kb({type:B}),B.\u0275inj=c.Jb({factory:function(e){return new(e||B)},providers:[{provide:C.a,useValue:{}},{provide:C.e,useValue:{}}],imports:[[r.c,z,h.k,u.j,p.b,u.t,C.d,l.b.forRoot()]]}),B)},yoZy:function(t,i,a){"use strict";a.d(i,"a",(function(){return h}));var r=a("s7LF"),o=a("8Y7J"),c=a("8yjs"),s=a("mb36"),d=a("EApP"),b=a("IheW"),l=a("iInd"),u=a("lX9O"),h=function(){var t=function(){function t(n,i,a,r,o,c,s){e(this,t),this.apiEndPointsService=n,this.baseService=i,this.toastr=a,this.http=r,this.router=o,this.authService=c,this.formBuilder=s}return n(t,[{key:"get_brands",value:function(e,t){return this.http.get(this.apiEndPointsService.BRANDS.FETCH(e,t)+"&access_token="+this.authService.getAccessToken())}},{key:"add_brands",value:function(e){return this.http.post(this.apiEndPointsService.BRANDS.CREATE()+"?access_token="+this.authService.getAccessToken(),e)}},{key:"search_brands",value:function(e){return this.http.get(this.apiEndPointsService.BRANDS.SEARCH(e)+"&access_token="+this.authService.getAccessToken())}},{key:"remove_brands",value:function(e){return this.http.delete(this.apiEndPointsService.BRANDS.DELETE(e)+"?access_token="+this.authService.getAccessToken())}},{key:"brand_details",value:function(e){return this.http.get(this.apiEndPointsService.BRANDS.DETAILS(e)+"?access_token="+this.authService.getAccessToken())}},{key:"update_brand",value:function(e,t){return this.http.patch(this.apiEndPointsService.BRANDS.UPDATE(e)+"?access_token="+this.authService.getAccessToken(),t)}},{key:"initializeBrandForm",value:function(){return this.formBuilder.group({name:new r.e(null,[r.v.required]),description:new r.e(null),image:new r.e(null)})}},{key:"populateForm",value:function(e){return this.formBuilder.group({id:new r.e(null==e?void 0:e.id),name:new r.e(null==e?void 0:e.name),description:new r.e(null==e?void 0:e.description),image:new r.e(null==e?void 0:e.image)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.ac(c.a),o.ac(s.a),o.ac(d.b),o.ac(b.a),o.ac(l.f),o.ac(u.a),o.ac(r.d))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();