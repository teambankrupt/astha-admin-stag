!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Unri:function(n,c,o){"use strict";o.r(c),o.d(c,"ProductsModule",(function(){return j}));var a=o("SVse"),r=o("iInd"),i=o("ON34"),u=o("AIlu"),l=o("mrSG"),s=o("8Y7J"),d=o("mb36"),b=o("EApP"),p=o("fb7o"),g=o("wTG2"),h=o("s7LF"),f=o("a3+x"),v=o("G0yt");function m(t,e){if(1&t&&(s.Sb(0,"option",30),s.Lc(1),s.Rb()),2&t){var n=e.$implicit;s.mc("ngValue",n.value),s.zb(1),s.Mc(n.name)}}var S=function(t){return{"background-color":t}};function R(t,e){if(1&t){var n=s.Tb();s.Sb(0,"tr",22),s.Sb(1,"td"),s.Lc(2),s.Rb(),s.Sb(3,"td",23),s.Lc(4),s.Rb(),s.Sb(5,"td"),s.Lc(6),s.Rb(),s.Sb(7,"td"),s.Lc(8),s.Rb(),s.Sb(9,"td"),s.Sb(10,"select",24),s.dc("ngModelChange",(function(t){return s.zc(n),e.$implicit.status=t}))("change",(function(){s.zc(n);var t=e.$implicit;return s.hc(2).onChangeStatusClick(t)})),s.Jc(11,m,2,2,"option",25),s.Rb(),s.Rb(),s.Sb(12,"td"),s.Sb(13,"a",26),s.dc("click",(function(){s.zc(n);var t=e.$implicit;return s.hc(2).onClickProductEdit(null==t?null:t.id)})),s.Sb(14,"i",27),s.Lc(15,"\ue254"),s.Rb(),s.Rb(),s.Rb(),s.Sb(16,"td",28),s.Sb(17,"button",29),s.dc("confirm",(function(){s.zc(n);var t=e.$implicit;return s.hc(2).onRemoveProduct(t)}))("cancel",(function(){return s.zc(n),s.hc(2).cancelClicked=!0})),s.Sb(18,"i",27),s.Lc(19,"\ue872"),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var c=e.$implicit,o=s.hc(2);s.mc("ngStyle",s.qc(9,S,o.isProductOperated(null==c?null:c.id,null==c?null:c.status))),s.zb(2),s.Nc(" ",null==c?null:c.name,""),s.zb(2),s.Mc(null==c?null:c.category_name),s.zb(2),s.Mc(null==c?null:c.brand_name),s.zb(2),s.Mc(null==c?null:c.status),s.zb(2),s.mc("ngModel",c.status),s.zb(1),s.mc("ngForOf",o.statusList),s.zb(6),s.mc("popoverTitle",o.popoverTitle)("popoverMessage",o.popoverMessage)}}function P(t,e){if(1&t&&(s.Sb(0,"div",18),s.Sb(1,"table",19),s.Sb(2,"thead",20),s.Sb(3,"tr"),s.Sb(4,"th"),s.Lc(5," Name "),s.Rb(),s.Sb(6,"th"),s.Lc(7," Category "),s.Rb(),s.Sb(8,"th"),s.Lc(9," Brand "),s.Rb(),s.Sb(10,"th"),s.Lc(11," Status "),s.Rb(),s.Sb(12,"th"),s.Lc(13," Change Status "),s.Rb(),s.Sb(14,"th"),s.Lc(15," Update "),s.Rb(),s.Sb(16,"th"),s.Lc(17," Delete "),s.Rb(),s.Rb(),s.Rb(),s.Sb(18,"tbody"),s.Jc(19,R,20,11,"tr",21),s.Rb(),s.Rb(),s.Rb()),2&t){var n=s.hc();s.zb(19),s.mc("ngForOf",null==n.products?null:n.products.content)}}function y(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",31),s.Sb(2,"div",8),s.Sb(3,"div",32),s.Sb(4,"span",33),s.Lc(5,"Loading..."),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb())}function C(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",31),s.Sb(2,"div",34),s.Nb(3,"img",35),s.Rb(),s.Rb(),s.Rb())}function M(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",36),s.Sb(1,"div",2),s.Sb(2,"div",37),s.Sb(3,"ngb-pagination",38),s.dc("pageChange",(function(t){return s.zc(n),s.hc().page=t}))("pageChange",(function(t){return s.zc(n),s.hc().onPaginateChange(t)})),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var c=s.hc();s.zb(3),s.mc("collectionSize",c.totalElements)("pageSize",c.size)("page",c.page)}}function z(t,e){if(1&t&&(s.Sb(0,"div"),s.Nb(1,"img",48),s.Rb()),2&t){var n=s.hc(2);s.zb(1),s.nc("src",null==n.iProduct?null:n.iProduct.images,s.Bc)}}function k(t,e){if(1&t&&(s.Sb(0,"div"),s.Nb(1,"img",48),s.Rb()),2&t){var n=s.hc(2);s.zb(1),s.nc("src",null==n.iProduct?null:n.iProduct.images[0],s.Bc)}}function _(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",39),s.Sb(1,"h4",40),s.Lc(2),s.Rb(),s.Sb(3,"button",41),s.dc("click",(function(){return s.zc(n),s.hc().modalRef.hide()})),s.Sb(4,"span",42),s.Lc(5,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",43),s.Sb(7,"div",44),s.Sb(8,"div",0),s.Sb(9,"div",31),s.Jc(10,z,2,1,"div",45),s.Jc(11,k,2,1,"div",45),s.Rb(),s.Sb(12,"div",46),s.Sb(13,"p"),s.Sb(14,"span",47),s.Lc(15,"Name: "),s.Rb(),s.Lc(16),s.Rb(),s.Sb(17,"p"),s.Sb(18,"span",47),s.Lc(19,"Category: "),s.Rb(),s.Lc(20),s.Rb(),s.Sb(21,"p"),s.Sb(22,"span",47),s.Lc(23,"Brand: "),s.Rb(),s.Lc(24),s.Rb(),s.Sb(25,"p"),s.Sb(26,"span",47),s.Lc(27,"Current Status: "),s.Rb(),s.Lc(28),s.Rb(),s.Sb(29,"p"),s.Sb(30,"span",47),s.Lc(31,"Description: "),s.Rb(),s.Lc(32),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var c=s.hc();s.zb(2),s.Nc("Product Details of ",null==c.iProduct?null:c.iProduct.name,""),s.zb(8),s.mc("ngIf",1==(null==c.iProduct||null==c.iProduct.images?null:c.iProduct.images.length)),s.zb(1),s.mc("ngIf",(null==c.iProduct||null==c.iProduct.images?null:c.iProduct.images.length)>1),s.zb(5),s.Mc(null==c.iProduct?null:c.iProduct.name),s.zb(4),s.Mc(null==c.iProduct?null:c.iProduct.category_names),s.zb(4),s.Mc(null==c.iProduct?null:c.iProduct.brand_name),s.zb(4),s.Nc("",null!=c.iProduct&&c.iProduct.approved?"Approved":"Unapproved"," "),s.zb(4),s.Mc(null==c.iProduct?null:c.iProduct.description)}}var L,O,w,E=[{path:"",component:i.a},{path:"requested",component:(L=function(){function n(e,c,o,a,r){t(this,n),this.baseService=e,this.toastr=c,this.activatedRoute=o,this.router=a,this.requestedProductService=r,this.loading=!0,this.size=10,this.page=1,this.search_key="",this.popoverTitle="Are you sure?",this.popoverMessage="Are you really sure you want to delete this?",this.popoverApproveMessage="Are you really sure you want to approved this?",this.popoverUnapproveMessage="Are you really sure you want to unapproved this?",this.cancelClicked=!1,this.statusList=[{id:1,name:"Pending",value:"PENDING"},{id:2,name:"Processed",value:"PROCESSED"},{id:3,name:"Accepted",value:"ACCEPTED"},{id:4,name:"Declined",value:"DECLINED"}],this.selectedAction=null}var c,o,a;return c=n,(o=[{key:"ngOnInit",value:function(){var t=this;this.retrieveFilteredData().then((function(e){t.page=t.activatedRoute.snapshot.paramMap.get("page")?Number(t.activatedRoute.snapshot.paramMap.get("page")):1,t.onClickGo()}))}},{key:"onClickGo",value:function(){this.get_products(this.page-1,this.size,this.selectedStatus)}},{key:"get_products",value:function(t,e,n){var c=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.search_key;this.loading=!0,this.totalElements=null,this.requestedProductService.get_products(t,e,n,o).subscribe((function(t){var e;c.products=t,c.loading=!1,c.totalElements=null===(e=c.products)||void 0===e?void 0:e.totalElements}),(function(t){c.products=null,c.loading=!1,c.totalElements=null,c.baseService.handleError(t)}))}},{key:"onPaginateChange",value:function(t){this.router.navigate(["/products",{page:t}]),this.get_products(this.page-1,this.size,this.selectedStatus)}},{key:"_searchProduct",value:function(t){""==t&&this.get_products(this.page-1,this.size,this.selectedStatus)}},{key:"onRemoveProduct",value:function(t){var e=this;this.requestedProductService.remove_products(t.id).subscribe((function(t){e.toastr.success("Deleted Successfully!",""),e.onClickGo()}),(function(t){e.baseService.handleError(t)}))}},{key:"onChangeStatusClick",value:function(t){var e=this;confirm("Are you sure to Change Status")&&this.requestedProductService.change_status(t).subscribe((function(t){e.toastr.success("Product Status Changed Successfully!","")}),(function(t){e.baseService.handleError(t)}))}},{key:"onStatusChange",value:function(t){null!=t||null!=t?(this.methodChangingQueryParams({status:null==t?void 0:t.value}),this.get_products(this.page-1,this.size,null==t?void 0:t.value)):this.onClickGo()}},{key:"methodChangingQueryParams",value:function(t){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:t,queryParamsHandling:"merge"})}},{key:"clearQueryParams",value:function(t){this.router.navigate(["."],{relativeTo:this.activatedRoute,queryParams:t,queryParamsHandling:"merge"})}},{key:"onClickProductEdit",value:function(t){var e=this;this.router.navigate(["."],{relativeTo:this.activatedRoute,queryParams:{productId:t},queryParamsHandling:"merge"}).then((function(n){return e.router.navigate(["products/add/new/",t])}))}},{key:"retrieveFilteredData",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.activatedRoute.snapshot.queryParamMap.get("status")&&(this.selectedStatus=this.activatedRoute.snapshot.queryParamMap.get("status")),this.activatedRoute.snapshot.queryParamMap.get("productId")&&(this.selectedProductId=this.activatedRoute.snapshot.queryParamMap.get("productId"));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"isProductOperated",value:function(t,e){return t==this.selectedProductId?"#80ff80":"ACCEPTED"!=e?"#f7c2b5":void 0}}])&&e(c.prototype,o),a&&e(c,a),n}(),L.\u0275fac=function(t){return new(t||L)(s.Mb(d.a),s.Mb(b.b),s.Mb(r.a),s.Mb(r.f),s.Mb(p.a))},L.\u0275cmp=s.Gb({type:L,selectors:[["app-requested-product"]],decls:25,vars:9,consts:[[1,"row"],[1,"col-lg-12","grid-margin","stretch-card","mb-0"],[1,"card"],[1,"card-body"],[1,"card-title","row"],[1,"col-md-4"],[1,"form-group","mb-0"],["bindValue","value","bindLabel","name","placeholder","Select Status",3,"items","selectOnTab","hideSelected","ngModel","change","ngModelChange","clear"],[1,"d-flex","justify-content-center"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search Product","aria-label","search product",1,"form-control",3,"ngModel","ngModelChange","keyup.enter","input"],[1,"input-group-append"],["type","button",1,"btn","btn-sm","btn-gradient-primary",3,"click"],["class","table-responsive pt-3",4,"ngIf"],["class","row",4,"ngIf"],["class","col-lg-12 grid-margin stretch-card",4,"ngIf"],["template",""],[1,"table-responsive","pt-3"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"category"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["title","Edit","data-toggle","tooltip",1,"edit",3,"click"],[1,"material-icons"],[1,"p-0"],["mwlConfirmationPopover","","placement","left",1,"btn","delete",3,"popoverTitle","popoverMessage","confirm","cancel"],[3,"ngValue"],[1,"col-12"],["role","status",1,"spinner-border","m-5",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"text-center"],["src","./assets/icon/nodatafound.jpg","alt","not found image",1,"rounded",2,"width","400px","height","300px"],[1,"col-lg-12","grid-margin","stretch-card"],[1,"card-body","pt-0"],["aria-label","Default pagination",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","page","pageChange"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","py-0"],[1,"containers-fluid"],[4,"ngIf"],[1,"col-12","pt-3"],[1,"font-weight-bold"],["alt","no images","width","100%","height","auto",1,"img-fluid",3,"src"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"div",4),s.Sb(5,"div",5),s.Sb(6,"div",6),s.Sb(7,"ng-select",7),s.dc("change",(function(t){return e.onStatusChange(t)}))("ngModelChange",(function(t){return e.selectedStatus=t}))("clear",(function(){return e.clearQueryParams({status:null})})),s.Rb(),s.Rb(),s.Rb(),s.Sb(8,"div",5),s.Sb(9,"div",8),s.Sb(10,"h2"),s.Lc(11,"Requested Product List"),s.Rb(),s.Rb(),s.Rb(),s.Sb(12,"div",5),s.Sb(13,"div",9),s.Sb(14,"div",10),s.Sb(15,"input",11),s.dc("ngModelChange",(function(t){return e.search_key=t}))("keyup.enter",(function(){return e.onClickGo()}))("input",(function(t){return e._searchProduct(t.target.value)})),s.Rb(),s.Sb(16,"div",12),s.Sb(17,"button",13),s.dc("click",(function(){return e.onClickGo()})),s.Lc(18,"Search "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Jc(19,P,20,1,"div",14),s.Jc(20,y,6,0,"div",15),s.Jc(21,C,4,0,"div",15),s.Rb(),s.Rb(),s.Rb(),s.Jc(22,M,4,3,"div",16),s.Rb(),s.Jc(23,_,33,8,"ng-template",null,17,s.Kc)),2&t&&(s.zb(7),s.mc("items",e.statusList)("selectOnTab",!0)("hideSelected",!0)("ngModel",e.selectedStatus),s.zb(8),s.mc("ngModel",e.search_key),s.zb(4),s.mc("ngIf",0==e.loading),s.zb(1),s.mc("ngIf",1==e.loading),s.zb(1),s.mc("ngIf",0==(null==e.products?null:e.products.totalElements)),s.zb(1),s.mc("ngIf",e.totalElements))},directives:[g.a,h.n,h.q,h.c,a.m,a.l,a.n,h.u,f.a,h.r,h.w,v.j],styles:[".card[_ngcontent-%COMP%]{border-radius:0}h2[_ngcontent-%COMP%]{font-size:26px;font-width:900}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{color:#c97208;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{color:#e34724;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.approve[_ngcontent-%COMP%]{color:#fff;background-color:#0f7062;cursor:pointer;padding:.5rem}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.disapprove[_ngcontent-%COMP%]{color:#fff;background-color:#ca371d;cursor:pointer;padding:.5rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{font-size:.785rem!important}.name[_ngcontent-%COMP%]{cursor:pointer;color:#0b7dda;line-height:1.2}select.form-control[_ngcontent-%COMP%]{color:#000;font-weight:700}"]}),L)},{path:"add",component:u.a},{path:"add/:id",component:u.a},{path:"add/new/:requestedId",component:u.a}],I=((O=function e(){t(this,e)}).\u0275mod=s.Kb({type:O}),O.\u0275inj=s.Jb({factory:function(t){return new(t||O)},imports:[[r.j.forChild(E)],r.j]}),O),q=o("iELJ"),D=o("Q2Ze"),T=o("LqlI"),j=((w=function e(){t(this,e)}).\u0275mod=s.Kb({type:w}),w.\u0275inj=s.Jb({factory:function(t){return new(t||w)},imports:[[a.c,I,q.d,g.b,h.j,h.t,D.c,f.b,v.h,T.b.forRoot()]]}),w)},mrSG:function(t,e,n){"use strict";function c(t,e,n,c){var o,a=arguments.length,r=a<3?e:null===c?c=Object.getOwnPropertyDescriptor(e,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,c);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r}function o(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function a(t,e,n,c){return new(n||(n=Promise))((function(o,a){function r(t){try{u(c.next(t))}catch(e){a(e)}}function i(t){try{u(c.throw(t))}catch(e){a(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,i)}u((c=c.apply(t,e||[])).next())}))}n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))}}])}();