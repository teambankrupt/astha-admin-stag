(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Unri:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductsModule",(function(){return E}));var c=n("SVse"),o=n("iInd"),i=n("ON34"),r=n("AIlu"),a=n("mrSG"),s=n("8Y7J"),l=n("mb36"),u=n("EApP"),d=n("fb7o"),b=n("wTG2"),g=n("s7LF"),p=n("a3+x"),h=n("G0yt");function m(t,e){if(1&t&&(s.Sb(0,"option",30),s.Lc(1),s.Rb()),2&t){const t=e.$implicit;s.mc("ngValue",t.value),s.zb(1),s.Mc(t.name)}}const f=function(t){return{"background-color":t}};function S(t,e){if(1&t){const t=s.Tb();s.Sb(0,"tr",22),s.Sb(1,"td"),s.Lc(2),s.Rb(),s.Sb(3,"td",23),s.Lc(4),s.Rb(),s.Sb(5,"td"),s.Lc(6),s.Rb(),s.Sb(7,"td"),s.Lc(8),s.Rb(),s.Sb(9,"td"),s.Sb(10,"select",24),s.dc("ngModelChange",(function(n){return s.zc(t),e.$implicit.status=n}))("change",(function(){s.zc(t);const n=e.$implicit;return s.hc(2).onChangeStatusClick(n)})),s.Jc(11,m,2,2,"option",25),s.Rb(),s.Rb(),s.Sb(12,"td"),s.Sb(13,"a",26),s.dc("click",(function(){s.zc(t);const n=e.$implicit;return s.hc(2).onClickProductEdit(null==n?null:n.id)})),s.Sb(14,"i",27),s.Lc(15,"\ue254"),s.Rb(),s.Rb(),s.Rb(),s.Sb(16,"td",28),s.Sb(17,"button",29),s.dc("confirm",(function(){s.zc(t);const n=e.$implicit;return s.hc(2).onRemoveProduct(n)}))("cancel",(function(){return s.zc(t),s.hc(2).cancelClicked=!0})),s.Sb(18,"i",27),s.Lc(19,"\ue872"),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=e.$implicit,n=s.hc(2);s.mc("ngStyle",s.qc(9,f,n.isProductOperated(null==t?null:t.id,null==t?null:t.status))),s.zb(2),s.Nc(" ",null==t?null:t.name,""),s.zb(2),s.Mc(null==t?null:t.category_name),s.zb(2),s.Mc(null==t?null:t.brand_name),s.zb(2),s.Mc(null==t?null:t.status),s.zb(2),s.mc("ngModel",t.status),s.zb(1),s.mc("ngForOf",n.statusList),s.zb(6),s.mc("popoverTitle",n.popoverTitle)("popoverMessage",n.popoverMessage)}}function v(t,e){if(1&t&&(s.Sb(0,"div",18),s.Sb(1,"table",19),s.Sb(2,"thead",20),s.Sb(3,"tr"),s.Sb(4,"th"),s.Lc(5," Name "),s.Rb(),s.Sb(6,"th"),s.Lc(7," Category "),s.Rb(),s.Sb(8,"th"),s.Lc(9," Brand "),s.Rb(),s.Sb(10,"th"),s.Lc(11," Status "),s.Rb(),s.Sb(12,"th"),s.Lc(13," Change Status "),s.Rb(),s.Sb(14,"th"),s.Lc(15," Update "),s.Rb(),s.Sb(16,"th"),s.Lc(17," Delete "),s.Rb(),s.Rb(),s.Rb(),s.Sb(18,"tbody"),s.Jc(19,S,20,11,"tr",21),s.Rb(),s.Rb(),s.Rb()),2&t){const t=s.hc();s.zb(19),s.mc("ngForOf",null==t.products?null:t.products.content)}}function R(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",31),s.Sb(2,"div",8),s.Sb(3,"div",32),s.Sb(4,"span",33),s.Lc(5,"Loading..."),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb())}function P(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",31),s.Sb(2,"div",34),s.Nb(3,"img",35),s.Rb(),s.Rb(),s.Rb())}function y(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",36),s.Sb(1,"div",2),s.Sb(2,"div",37),s.Sb(3,"ngb-pagination",38),s.dc("pageChange",(function(e){return s.zc(t),s.hc().page=e}))("pageChange",(function(e){return s.zc(t),s.hc().onPaginateChange(e)})),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.hc();s.zb(3),s.mc("collectionSize",t.totalElements)("pageSize",t.size)("page",t.page)}}function C(t,e){if(1&t&&(s.Sb(0,"div"),s.Nb(1,"img",48),s.Rb()),2&t){const t=s.hc(2);s.zb(1),s.nc("src",null==t.iProduct?null:t.iProduct.images,s.Bc)}}function M(t,e){if(1&t&&(s.Sb(0,"div"),s.Nb(1,"img",48),s.Rb()),2&t){const t=s.hc(2);s.zb(1),s.nc("src",null==t.iProduct?null:t.iProduct.images[0],s.Bc)}}function z(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",39),s.Sb(1,"h4",40),s.Lc(2),s.Rb(),s.Sb(3,"button",41),s.dc("click",(function(){return s.zc(t),s.hc().modalRef.hide()})),s.Sb(4,"span",42),s.Lc(5,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",43),s.Sb(7,"div",44),s.Sb(8,"div",0),s.Sb(9,"div",31),s.Jc(10,C,2,1,"div",45),s.Jc(11,M,2,1,"div",45),s.Rb(),s.Sb(12,"div",46),s.Sb(13,"p"),s.Sb(14,"span",47),s.Lc(15,"Name: "),s.Rb(),s.Lc(16),s.Rb(),s.Sb(17,"p"),s.Sb(18,"span",47),s.Lc(19,"Category: "),s.Rb(),s.Lc(20),s.Rb(),s.Sb(21,"p"),s.Sb(22,"span",47),s.Lc(23,"Brand: "),s.Rb(),s.Lc(24),s.Rb(),s.Sb(25,"p"),s.Sb(26,"span",47),s.Lc(27,"Current Status: "),s.Rb(),s.Lc(28),s.Rb(),s.Sb(29,"p"),s.Sb(30,"span",47),s.Lc(31,"Description: "),s.Rb(),s.Lc(32),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.hc();s.zb(2),s.Nc("Product Details of ",null==t.iProduct?null:t.iProduct.name,""),s.zb(8),s.mc("ngIf",1==(null==t.iProduct||null==t.iProduct.images?null:t.iProduct.images.length)),s.zb(1),s.mc("ngIf",(null==t.iProduct||null==t.iProduct.images?null:t.iProduct.images.length)>1),s.zb(5),s.Mc(null==t.iProduct?null:t.iProduct.name),s.zb(4),s.Mc(null==t.iProduct?null:t.iProduct.category_names),s.zb(4),s.Mc(null==t.iProduct?null:t.iProduct.brand_name),s.zb(4),s.Nc("",null!=t.iProduct&&t.iProduct.approved?"Approved":"Unapproved"," "),s.zb(4),s.Mc(null==t.iProduct?null:t.iProduct.description)}}const _=[{path:"",component:i.a},{path:"requested",component:(()=>{class t{constructor(t,e,n,c,o){this.baseService=t,this.toastr=e,this.activatedRoute=n,this.router=c,this.requestedProductService=o,this.loading=!0,this.size=10,this.page=1,this.search_key="",this.popoverTitle="Are you sure?",this.popoverMessage="Are you really sure you want to delete this?",this.popoverApproveMessage="Are you really sure you want to approved this?",this.popoverUnapproveMessage="Are you really sure you want to unapproved this?",this.cancelClicked=!1,this.statusList=[{id:1,name:"Pending",value:"PENDING"},{id:2,name:"Processed",value:"PROCESSED"},{id:3,name:"Accepted",value:"ACCEPTED"},{id:4,name:"Declined",value:"DECLINED"}],this.selectedAction=null}ngOnInit(){this.retrieveFilteredData().then(t=>{this.page=this.activatedRoute.snapshot.paramMap.get("page")?Number(this.activatedRoute.snapshot.paramMap.get("page")):1,this.onClickGo()})}onClickGo(){this.get_products(this.page-1,this.size,this.selectedStatus)}get_products(t,e,n,c=this.search_key){this.loading=!0,this.totalElements=null,this.requestedProductService.get_products(t,e,n,c).subscribe(t=>{var e;this.products=t,this.loading=!1,this.totalElements=null===(e=this.products)||void 0===e?void 0:e.totalElements},t=>{this.products=null,this.loading=!1,this.totalElements=null,this.baseService.handleError(t)})}onPaginateChange(t){this.router.navigate(["/products",{page:t}]),this.get_products(this.page-1,this.size,this.selectedStatus)}_searchProduct(t){""==t&&this.get_products(this.page-1,this.size,this.selectedStatus)}onRemoveProduct(t){this.requestedProductService.remove_products(t.id).subscribe(t=>{this.toastr.success("Deleted Successfully!",""),this.onClickGo()},t=>{this.baseService.handleError(t)})}onChangeStatusClick(t){confirm("Are you sure to Change Status")&&this.requestedProductService.change_status(t).subscribe(t=>{this.toastr.success("Product Status Changed Successfully!","")},t=>{this.baseService.handleError(t)})}onStatusChange(t){null!=t||null!=t?(this.methodChangingQueryParams({status:null==t?void 0:t.value}),this.get_products(this.page-1,this.size,null==t?void 0:t.value)):this.onClickGo()}methodChangingQueryParams(t){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:t,queryParamsHandling:"merge"})}clearQueryParams(t){this.router.navigate(["."],{relativeTo:this.activatedRoute,queryParams:t,queryParamsHandling:"merge"})}onClickProductEdit(t){this.router.navigate(["."],{relativeTo:this.activatedRoute,queryParams:{productId:t},queryParamsHandling:"merge"}).then(e=>this.router.navigate(["products/add/new/",t]))}retrieveFilteredData(){return Object(a.a)(this,void 0,void 0,(function*(){this.activatedRoute.snapshot.queryParamMap.get("status")&&(this.selectedStatus=this.activatedRoute.snapshot.queryParamMap.get("status")),this.activatedRoute.snapshot.queryParamMap.get("productId")&&(this.selectedProductId=this.activatedRoute.snapshot.queryParamMap.get("productId"))}))}isProductOperated(t,e){return t==this.selectedProductId?"#80ff80":"ACCEPTED"!=e?"#f7c2b5":void 0}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(l.a),s.Mb(u.b),s.Mb(o.a),s.Mb(o.f),s.Mb(d.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-requested-product"]],decls:25,vars:9,consts:[[1,"row"],[1,"col-lg-12","grid-margin","stretch-card","mb-0"],[1,"card"],[1,"card-body"],[1,"card-title","row"],[1,"col-md-4"],[1,"form-group","mb-0"],["bindValue","value","bindLabel","name","placeholder","Select Status",3,"items","selectOnTab","hideSelected","ngModel","change","ngModelChange","clear"],[1,"d-flex","justify-content-center"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search Product","aria-label","search product",1,"form-control",3,"ngModel","ngModelChange","keyup.enter","input"],[1,"input-group-append"],["type","button",1,"btn","btn-sm","btn-gradient-primary",3,"click"],["class","table-responsive pt-3",4,"ngIf"],["class","row",4,"ngIf"],["class","col-lg-12 grid-margin stretch-card",4,"ngIf"],["template",""],[1,"table-responsive","pt-3"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"category"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["title","Edit","data-toggle","tooltip",1,"edit",3,"click"],[1,"material-icons"],[1,"p-0"],["mwlConfirmationPopover","","placement","left",1,"btn","delete",3,"popoverTitle","popoverMessage","confirm","cancel"],[3,"ngValue"],[1,"col-12"],["role","status",1,"spinner-border","m-5",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"text-center"],["src","./assets/icon/nodatafound.jpg","alt","not found image",1,"rounded",2,"width","400px","height","300px"],[1,"col-lg-12","grid-margin","stretch-card"],[1,"card-body","pt-0"],["aria-label","Default pagination",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","page","pageChange"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","py-0"],[1,"containers-fluid"],[4,"ngIf"],[1,"col-12","pt-3"],[1,"font-weight-bold"],["alt","no images","width","100%","height","auto",1,"img-fluid",3,"src"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"div",4),s.Sb(5,"div",5),s.Sb(6,"div",6),s.Sb(7,"ng-select",7),s.dc("change",(function(t){return e.onStatusChange(t)}))("ngModelChange",(function(t){return e.selectedStatus=t}))("clear",(function(){return e.clearQueryParams({status:null})})),s.Rb(),s.Rb(),s.Rb(),s.Sb(8,"div",5),s.Sb(9,"div",8),s.Sb(10,"h2"),s.Lc(11,"Requested Product List"),s.Rb(),s.Rb(),s.Rb(),s.Sb(12,"div",5),s.Sb(13,"div",9),s.Sb(14,"div",10),s.Sb(15,"input",11),s.dc("ngModelChange",(function(t){return e.search_key=t}))("keyup.enter",(function(){return e.onClickGo()}))("input",(function(t){return e._searchProduct(t.target.value)})),s.Rb(),s.Sb(16,"div",12),s.Sb(17,"button",13),s.dc("click",(function(){return e.onClickGo()})),s.Lc(18,"Search "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Jc(19,v,20,1,"div",14),s.Jc(20,R,6,0,"div",15),s.Jc(21,P,4,0,"div",15),s.Rb(),s.Rb(),s.Rb(),s.Jc(22,y,4,3,"div",16),s.Rb(),s.Jc(23,z,33,8,"ng-template",null,17,s.Kc)),2&t&&(s.zb(7),s.mc("items",e.statusList)("selectOnTab",!0)("hideSelected",!0)("ngModel",e.selectedStatus),s.zb(8),s.mc("ngModel",e.search_key),s.zb(4),s.mc("ngIf",0==e.loading),s.zb(1),s.mc("ngIf",1==e.loading),s.zb(1),s.mc("ngIf",0==(null==e.products?null:e.products.totalElements)),s.zb(1),s.mc("ngIf",e.totalElements))},directives:[b.a,g.n,g.q,g.c,c.m,c.l,c.n,g.u,p.a,g.r,g.w,h.j],styles:[".card[_ngcontent-%COMP%]{border-radius:0}h2[_ngcontent-%COMP%]{font-size:26px;font-width:900}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{color:#c97208;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{color:#e34724;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.approve[_ngcontent-%COMP%]{color:#fff;background-color:#0f7062;cursor:pointer;padding:.5rem}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.disapprove[_ngcontent-%COMP%]{color:#fff;background-color:#ca371d;cursor:pointer;padding:.5rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{font-size:.785rem!important}.name[_ngcontent-%COMP%]{cursor:pointer;color:#0b7dda;line-height:1.2}select.form-control[_ngcontent-%COMP%]{color:#000;font-weight:700}"]}),t})()},{path:"add",component:r.a},{path:"add/:id",component:r.a},{path:"add/new/:requestedId",component:r.a}];let L=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(_)],o.j]}),t})();var O=n("iELJ"),k=n("Q2Ze"),w=n("LqlI");let E=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[c.c,L,O.d,b.b,g.j,g.t,k.c,p.b,h.h,w.b.forRoot()]]}),t})()},mrSG:function(t,e,n){"use strict";function c(t,e,n,c){var o,i=arguments.length,r=i<3?e:null===c?c=Object.getOwnPropertyDescriptor(e,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,c);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r}function o(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function i(t,e,n,c){return new(n||(n=Promise))((function(o,i){function r(t){try{s(c.next(t))}catch(e){i(e)}}function a(t){try{s(c.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}s((c=c.apply(t,e||[])).next())}))}n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))}}]);