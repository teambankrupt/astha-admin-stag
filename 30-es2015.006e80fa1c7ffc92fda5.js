(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"2YKk":function(t,e,o){"use strict";o.r(e),o.d(e,"LocationTypeModule",(function(){return x}));var i=o("SVse"),n=o("iInd"),c=o("8Y7J"),a=o("tpXV"),r=o("EApP"),s=o("bL1n"),b=o("PDDa"),l=o("s7LF"),d=o("wTG2");function p(t,e){1&t&&(c.Sb(0,"h4",22),c.Lc(1,"Create Location Type"),c.Rb())}function u(t,e){1&t&&(c.Sb(0,"h4",22),c.Lc(1,"Update Location Type"),c.Rb())}let h=(()=>{class t{constructor(t,e,o,i,n,c,a){this.datePipe=t,this.activatedRoute=e,this.createTypesService=o,this.toastService=i,this.router=n,this.blogService=c,this.listOfTypesService=a,this.today=this.datePipe.transform(Date.now(),"yyyy-MM-dd").toString(),this.tags=[],this.paramId=null,this.buttonStatus="Create"}ngOnInit(){this.paramId=this.activatedRoute.snapshot.paramMap.get("id"),this.registerLocationTypeForm=this.createTypesService.initializeLocationTypeForm(),this.paramId&&(this.buttonStatus="Update",this.createTypesService.location_type_details(this.paramId).subscribe(t=>{this.registerLocationTypeForm=this.createTypesService.populateForm(t)})),this.listOfTypesService.get_location_types(0,1e5).subscribe(t=>{this.location_types=t.content})}searchLocationType(t){""!=t?this.listOfTypesService.search_location_types(t).subscribe(t=>{this.location_types=t.content}):this.listOfTypesService.get_location_types(0,1e3).subscribe(t=>{this.location_types=t.content})}createLocationType(){"Create"==this.buttonStatus?this.createTypesService.create_location_types(this.registerLocationTypeForm.value).subscribe(t=>{this.toastService.success("Location Type Created Successfully"),this.router.navigate(["location-types"])}):this.createTypesService.update_location_type(this.paramId,this.registerLocationTypeForm.value).subscribe(t=>{this.toastService.success("Location Type Updated Successfully"),this.router.navigate(["location-types"])})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(i.e),c.Mb(n.a),c.Mb(a.a),c.Mb(r.b),c.Mb(n.f),c.Mb(s.a),c.Mb(b.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-create-type"]],decls:48,vars:7,consts:[[1,"row"],[1,"col-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],["class","card-title",4,"ngIf"],[1,"forms-sample",3,"formGroup"],[1,"col-md-6"],[1,"form-group"],["for","Title"],["type","text","id","Title","placeholder","Title","formControlName","label",1,"form-control"],["for","Code"],["type","text","id","Code","placeholder","Code","formControlName","code",1,"form-control"],["for","exampleTextarea1"],["formControlName","description","id","exampleTextarea1","rows","6","placeholder","Description",1,"form-control"],[1,"label-text"],["type","number","id","number","placeholder","number","formControlName","level","min","0",1,"form-control"],["bindLabel","label","bindValue","id","placeholder","Search Country","formControlName","parent_id",3,"items","virtualScroll","keyup"],[1,"modal-footer"],["type","button",1,"btn","btn-gradient-success","btn-icon-text",3,"disabled","click"],[1,"mdi","mdi-file-check","btn-icon-prepend"],["type","button","routerLink","/location-types",1,"btn","btn-gradient-danger","btn-icon-text"],[1,"mdi","mdi-close","btn-icon-prepend"],[1,"card-title"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Jc(4,p,2,0,"h4",4),c.Jc(5,u,2,0,"h4",4),c.Sb(6,"form",5),c.Sb(7,"div",0),c.Sb(8,"div",6),c.Sb(9,"div",7),c.Sb(10,"label",8),c.Sb(11,"sup"),c.Lc(12,"*"),c.Rb(),c.Lc(13,"Label"),c.Rb(),c.Nb(14,"input",9),c.Rb(),c.Rb(),c.Sb(15,"div",6),c.Sb(16,"div",7),c.Sb(17,"label",10),c.Sb(18,"sup"),c.Lc(19,"*"),c.Rb(),c.Lc(20,"Code"),c.Rb(),c.Nb(21,"input",11),c.Rb(),c.Rb(),c.Rb(),c.Sb(22,"div",0),c.Sb(23,"div",6),c.Sb(24,"div",7),c.Sb(25,"label",12),c.Sb(26,"sup"),c.Lc(27,"*"),c.Rb(),c.Lc(28,"Description"),c.Rb(),c.Nb(29,"textarea",13),c.Rb(),c.Rb(),c.Sb(30,"div",6),c.Sb(31,"div",7),c.Sb(32,"label",14),c.Sb(33,"sup"),c.Lc(34,"*"),c.Rb(),c.Lc(35,"Level"),c.Rb(),c.Nb(36,"input",15),c.Rb(),c.Sb(37,"div",7),c.Sb(38,"label",14),c.Lc(39,"Parent"),c.Rb(),c.Sb(40,"ng-select",16),c.dc("keyup",(function(t){return e.searchLocationType(t.target.value)})),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(41,"div",17),c.Sb(42,"button",18),c.dc("click",(function(){return e.createLocationType()})),c.Nb(43,"i",19),c.Lc(44),c.Rb(),c.Sb(45,"button",20),c.Nb(46,"i",21),c.Lc(47," Cancel "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.zb(4),c.mc("ngIf",null==e.paramId),c.zb(1),c.mc("ngIf",null!=e.paramId),c.zb(1),c.mc("formGroup",e.registerLocationTypeForm),c.zb(34),c.mc("items",e.location_types)("virtualScroll",!0),c.zb(2),c.mc("disabled",!e.registerLocationTypeForm.valid),c.zb(2),c.Nc(" ",e.buttonStatus," "))},directives:[i.m,l.x,l.o,l.h,l.c,l.n,l.f,l.s,d.a,n.g],styles:[".modal-footer[_ngcontent-%COMP%]{border-top:none}.card-title[_ngcontent-%COMP%]{margin-bottom:1.75rem}sup[_ngcontent-%COMP%]{color:red}"]}),t})();var S=o("mb36"),g=o("G0yt"),y=o("a3+x");const m=function(t){return["add",t]};function f(t,e){if(1&t){const t=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.Sb(2,"a",22),c.Lc(3),c.Rb(),c.Rb(),c.Sb(4,"td"),c.Lc(5),c.Rb(),c.Sb(6,"td"),c.Lc(7),c.Rb(),c.Sb(8,"td"),c.Lc(9),c.Rb(),c.Sb(10,"td"),c.Sb(11,"a",23),c.Sb(12,"i",24),c.Lc(13,"\ue254"),c.Rb(),c.Rb(),c.Rb(),c.Sb(14,"td",25),c.Sb(15,"button",26),c.dc("confirm",(function(){c.zc(t);const o=e.$implicit;return c.hc(2).onRemoveLocationTypes(o)}))("cancel",(function(){return c.zc(t),c.hc(2).cancelClicked=!0})),c.Sb(16,"i",24),c.Lc(17,"\ue872"),c.Rb(),c.Rb(),c.Rb(),c.Sb(18,"td"),c.Sb(19,"button",27),c.Lc(20,"Add Location"),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=e.$implicit,o=c.hc(2);c.zb(2),c.oc("routerLink","/locations/",null==t?null:t.id,""),c.zb(1),c.Mc(null==t?null:t.label),c.zb(2),c.Mc(null==t?null:t.code),c.zb(2),c.Mc(null==t?null:t.description),c.zb(2),c.Mc(null==t?null:t.level),c.zb(2),c.mc("routerLink",c.qc(9,m,null==t?null:t.id)),c.zb(4),c.mc("popoverTitle",o.popoverTitle)("popoverMessage",o.popoverMessage),c.zb(4),c.oc("routerLink","/location-types/",t.id,"/locations/add")}}function v(t,e){if(1&t&&(c.Sb(0,"div",18),c.Sb(1,"table",19),c.Sb(2,"thead",20),c.Sb(3,"tr"),c.Sb(4,"th"),c.Lc(5," Label "),c.Rb(),c.Sb(6,"th"),c.Lc(7," Code "),c.Rb(),c.Sb(8,"th"),c.Lc(9," Description "),c.Rb(),c.Sb(10,"th"),c.Lc(11," Level "),c.Rb(),c.Sb(12,"th"),c.Lc(13," Update "),c.Rb(),c.Sb(14,"th"),c.Lc(15," Delete "),c.Rb(),c.Sb(16,"th"),c.Lc(17," Location "),c.Rb(),c.Rb(),c.Rb(),c.Sb(18,"tbody"),c.Jc(19,f,21,11,"tr",21),c.Rb(),c.Rb(),c.Rb()),2&t){const t=c.hc();c.zb(19),c.mc("ngForOf",null==t.location_types?null:t.location_types.content)}}function R(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",28),c.Sb(2,"div",29),c.Sb(3,"div",30),c.Sb(4,"span",31),c.Lc(5,"Loading..."),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb())}function L(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",28),c.Sb(2,"div",32),c.Nb(3,"img",33),c.Rb(),c.Rb(),c.Rb())}const _=[{path:"",component:(()=>{class t{constructor(t,e,o){this.listOfTypesService=t,this.baseService=e,this.toastr=o,this.loading=!0,this.size=10,this.page=1,this.search_key="",this.popoverTitle="Are you sure?",this.popoverMessage="Are you really sure you want to delete this?",this.cancelClicked=!1}ngOnInit(){this.get_location_types(this.page-1,this.size)}get_location_types(t,e){this.loading=!0,this.listOfTypesService.get_location_types(t,e).subscribe(t=>{this.location_types=t,this.loading=!1},t=>{this.loading=!1,this.baseService.handleError(t)})}onPaginateChange(t){this.get_location_types(t-1,this.size)}searchLocationTypes(){""!=this.search_key?(this.loading=!0,this.listOfTypesService.search_location_types(this.search_key).subscribe(t=>{this.location_types=t,this.loading=!1},t=>{this.loading=!1,this.baseService.handleError(t)})):this.get_location_types(this.page-1,this.size)}_searchLocationTypes(t){""==t&&this.get_location_types(this.page-1,this.size)}onRemoveLocationTypes(t){this.listOfTypesService.remove_location_types(t.id).subscribe(t=>{this.toastr.success("Deleted Successfully!",""),this.ngOnInit()},t=>{this.baseService.handleError(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(b.a),c.Mb(S.a),c.Mb(r.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-list-of-types"]],decls:25,vars:8,consts:[[1,"row"],[1,"col-lg-12","grid-margin","stretch-card","mb-0"],[1,"card"],[1,"card-body"],[1,"card-title","row"],[1,"col-md-4"],["type","button","routerLink","add",1,"btn","btn-gradient-success","btn-rounded","btn-fw","btn-sm"],[1,"col-md-4","text-center"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","search location type","aria-label","location type",1,"form-control",3,"ngModel","keyup.enter","input","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-sm","btn-gradient-primary",3,"click"],["class","table-responsive pt-3",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-lg-12","grid-margin","stretch-card"],[1,"card-body","pt-0"],["aria-label","Default pagination",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","page","maxSize","pageChange"],[1,"table-responsive","pt-3"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[3,"routerLink"],["title","Edit","data-toggle","tooltip",1,"edit",3,"routerLink"],[1,"material-icons"],[1,"p-0"],["mwlConfirmationPopover","","placement","left",1,"btn","delete",3,"popoverTitle","popoverMessage","confirm","cancel"],["type","button",1,"btn","btn-link","btn-sm",3,"routerLink"],[1,"col-12"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","m-5",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"text-center"],["src","./assets/icon/nodatafound.jpg","alt","not found image",1,"rounded",2,"width","400px","height","300px"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Sb(5,"div",5),c.Sb(6,"button",6),c.Lc(7,"Add "),c.Rb(),c.Rb(),c.Sb(8,"div",7),c.Sb(9,"h2"),c.Lc(10,"Location Types"),c.Rb(),c.Rb(),c.Sb(11,"div",5),c.Sb(12,"div",8),c.Sb(13,"div",9),c.Sb(14,"input",10),c.dc("keyup.enter",(function(){return e.searchLocationTypes()}))("input",(function(t){return e._searchLocationTypes(t.target.value)}))("ngModelChange",(function(t){return e.search_key=t})),c.Rb(),c.Sb(15,"div",11),c.Sb(16,"button",12),c.dc("click",(function(){return e.searchLocationTypes()})),c.Lc(17,"Search"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Jc(18,v,20,1,"div",13),c.Jc(19,R,6,0,"div",14),c.Jc(20,L,4,0,"div",14),c.Rb(),c.Rb(),c.Rb(),c.Sb(21,"div",15),c.Sb(22,"div",2),c.Sb(23,"div",16),c.Sb(24,"ngb-pagination",17),c.dc("pageChange",(function(t){return e.page=t}))("pageChange",(function(t){return e.onPaginateChange(t)})),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.zb(14),c.mc("ngModel",e.search_key),c.zb(4),c.mc("ngIf",0==e.loading),c.zb(1),c.mc("ngIf",1==e.loading),c.zb(1),c.mc("ngIf",0==(null==e.location_types?null:e.location_types.totalElements)),c.zb(4),c.mc("collectionSize",null==e.location_types?null:e.location_types.totalElements)("pageSize",e.size)("page",e.page)("maxSize",6))},directives:[n.g,l.c,l.n,l.q,i.m,g.j,i.l,n.i,y.a],styles:[".card[_ngcontent-%COMP%]{border-radius:0}h2[_ngcontent-%COMP%]{font-size:26px;font-width:900}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{color:#ffc107;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{color:#e34724;cursor:pointer}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}"]}),t})()},{path:"add",component:h},{path:"add/:id",component:h},{path:":id/locations/add",component:o("uB8i").a}];let T=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(_)],n.j]}),t})();var C=o("Q6Ar"),M=o("IheW"),z=o("ienR"),k=o("pMoy"),O=o("8Qe2"),w=o("Tj54");let x=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[i.c,T,g.k,g.h,l.j,d.b,C.b,M.b,y.b,l.t,z.c.forRoot(),z.d.forRoot(),k.b,O.b,w.b]]}),t})()}}]);