!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{FDqJ:function(n,i,o){"use strict";o.r(i),o.d(i,"LocationsModule",(function(){return G}));var c=o("SVse"),a=o("iInd"),l=o("8Y7J"),s=o("qof1"),r=o("mb36"),b=o("EApP"),d=o("PDDa"),u=o("tpXV"),h=o("s7LF"),p=o("G0yt"),g=o("wTG2"),f=o("a3+x");function v(t,e){if(1&t&&(l.Sb(0,"h2"),l.Lc(1),l.Rb()),2&t){var n=l.hc();l.zb(1),l.Nc("Locations for ",null==n.location_type?null:n.location_type.label,"")}}function _(t,e){if(1&t){var n=l.Tb();l.Sb(0,"div"),l.Sb(1,"ng-select",21),l.dc("keyup",(function(t){return l.zc(n),l.hc().searchLocationType(null==t.target?null:t.target.value)}))("change",(function(){return l.zc(n),l.hc().onChangeLocationType()}))("ngModelChange",(function(t){return l.zc(n),l.hc().location_type=t})),l.Rb(),l.Rb()}if(2&t){var i=l.hc();l.zb(1),l.mc("items",i.location_types)("virtualScroll",!0)("ngModel",i.location_type)}}function m(t,e){if(1&t){var n=l.Tb();l.Sb(0,"li",25),l.Sb(1,"a",28),l.dc("click",(function(){l.zc(n);var t=e.$implicit;return l.hc(2).onClickTopLabel(t)})),l.Lc(2),l.Rb(),l.Rb()}if(2&t){var i=e.$implicit;l.zb(2),l.Mc(null==i?null:i.label)}}function S(t,e){if(1&t){var n=l.Tb();l.Sb(0,"div",0),l.Sb(1,"div",22),l.Sb(2,"nav",23),l.Sb(3,"ol",24),l.Sb(4,"li",25),l.Sb(5,"a"),l.Sb(6,"i",26),l.dc("click",(function(){return l.zc(n),l.hc().resetLocation()})),l.Rb(),l.Rb(),l.Rb(),l.Jc(7,m,3,1,"li",27),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){var i=l.hc();l.zb(7),l.mc("ngForOf",i.selected_label_locations)}}function y(t,e){if(1&t){var n=l.Tb();l.Sb(0,"td",39),l.dc("click",(function(){l.zc(n);var t=l.hc().$implicit;return l.hc(2).onClickLabel(t)})),l.Lc(1),l.Rb()}if(2&t){var i=l.hc().$implicit;l.zb(1),l.Mc(null==i?null:i.label)}}function R(t,e){if(1&t&&(l.Sb(0,"td"),l.Lc(1),l.Rb()),2&t){var n=l.hc().$implicit;l.zb(1),l.Mc(null==n?null:n.label)}}var k=function(t){return["add",t]};function z(t,e){if(1&t){var n=l.Tb();l.Sb(0,"tr"),l.Sb(1,"td"),l.Nb(2,"img",33),l.Rb(),l.Jc(3,y,2,1,"td",34),l.Jc(4,R,2,1,"td",8),l.Sb(5,"td"),l.Lc(6),l.Rb(),l.Sb(7,"td"),l.Lc(8),l.Rb(),l.Sb(9,"td"),l.Lc(10),l.Rb(),l.Sb(11,"td"),l.Sb(12,"a",35),l.Sb(13,"i",36),l.Lc(14,"\ue254"),l.Rb(),l.Rb(),l.Rb(),l.Sb(15,"td",37),l.Sb(16,"button",38),l.dc("confirm",(function(){l.zc(n);var t=e.$implicit;return l.hc(2).onRemoveLocation(t)}))("cancel",(function(){return l.zc(n),l.hc(2).cancelClicked=!0})),l.Sb(17,"i",36),l.Lc(18,"\ue872"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){var i=e.$implicit,o=l.hc(2);l.zb(2),l.nc("src",null==i?null:i.image,l.Bc),l.zb(1),l.mc("ngIf",!o.paramId),l.zb(1),l.mc("ngIf",o.paramId),l.zb(2),l.Mc(null==i?null:i.code),l.zb(2),l.Mc(null==i||null==i.location_type?null:i.location_type.label),l.zb(2),l.Mc(null==i?null:i.description),l.zb(2),l.mc("routerLink",l.qc(9,k,null==i?null:i.id)),l.zb(4),l.mc("popoverTitle",o.popoverTitle)("popoverMessage",o.popoverMessage)}}function L(t,e){if(1&t&&(l.Sb(0,"div",29),l.Sb(1,"table",30),l.Sb(2,"thead",31),l.Sb(3,"tr"),l.Sb(4,"th"),l.Lc(5," Image "),l.Rb(),l.Sb(6,"th"),l.Lc(7," Label "),l.Rb(),l.Sb(8,"th"),l.Lc(9," Code "),l.Rb(),l.Sb(10,"th"),l.Lc(11," Geo Unit "),l.Rb(),l.Sb(12,"th"),l.Lc(13," Description "),l.Rb(),l.Sb(14,"th"),l.Lc(15," Update "),l.Rb(),l.Sb(16,"th"),l.Lc(17," Delete "),l.Rb(),l.Rb(),l.Rb(),l.Sb(18,"tbody"),l.Jc(19,z,19,11,"tr",32),l.Rb(),l.Rb(),l.Rb()),2&t){var n=l.hc();l.zb(19),l.mc("ngForOf",null==n.locations?null:n.locations.content)}}function M(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",22),l.Sb(2,"div",40),l.Sb(3,"div",41),l.Sb(4,"span",42),l.Lc(5,"Loading..."),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb())}function C(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",22),l.Sb(2,"div",43),l.Nb(3,"img",44),l.Rb(),l.Rb(),l.Rb())}var I,w,O,T=((I=function(){function n(e,i,o,c,a,l){t(this,n),this.locationsService=e,this.baseService=i,this.toastr=o,this.listOfTypesService=c,this.activatedRoute=a,this.createTypesService=l,this.loading=!0,this.size=10,this.page=1,this.search_key="",this.location_type=null,this.popoverTitle="Are you sure?",this.popoverMessage="Are you really sure you want to delete this?",this.cancelClicked=!1,this.paramId=null,this.parentId=null,this.selectedLocation=null,this.selected_label_locations=[]}var i,o,c;return i=n,(o=[{key:"ngOnInit",value:function(){this.paramId=this.activatedRoute.snapshot.paramMap.get("id"),this.paramId?this.get_location_types(this.page-1,100):this.get_location_list(this.page-1,this.size,this.parentId,this.search_key)}},{key:"get_location_list",value:function(t,e,n,i){var o=this;this.loading=!0,this.locations=null,this.locationsService.get_location_list(t,e,n,i).subscribe((function(t){o.locations=t,o.loading=!1}),(function(t){o.loading=!1,o.baseService.handleError(t)}))}},{key:"onClickLabel",value:function(t){this.selected_label_locations.push(t),this.parentId=null==t?void 0:t.id,this.get_location_list(this.page-1,this.size,this.parentId,this.search_key)}},{key:"onClickTopLabel",value:function(t){for(var e=[],n=0;n<=this.selected_label_locations.length;n++){if(this.selected_label_locations[n].id==t.id){e[n]=this.selected_label_locations[n];break}e[n]=this.selected_label_locations[n]}this.selected_label_locations=e,this.get_location_list(this.page-1,this.size,null==t?void 0:t.id,this.search_key)}},{key:"resetLocation",value:function(){this.selected_label_locations=[],this.parentId=null,this.get_location_list(this.page-1,this.size,this.parentId,this.search_key)}},{key:"get_locations",value:function(t,e,n,i){var o=this;this.loading=!0,this.locations=null,this.locationsService.get_location(t,e,n,i).subscribe((function(t){o.locations=t,o.loading=!1}),(function(t){o.loading=!1,o.baseService.handleError(t)}))}},{key:"get_location_types",value:function(t,e){var n=this;this.listOfTypesService.get_location_types(t,e).subscribe((function(t){n.location_types=t.content,n.handleDataShow()}),(function(t){n.baseService.handleError(t)}))}},{key:"handleDataShow",value:function(){var t=this;this.createTypesService.location_type_details(this.paramId).subscribe((function(e){var n;t.location_type=e,t.get_locations(t.page-1,t.size,null===(n=t.location_type)||void 0===n?void 0:n.id,t.search_key)}))}},{key:"searchLocationType",value:function(t){var e=this;""!=t?this.listOfTypesService.search_location_types(t).subscribe((function(t){e.location_types=t.content})):this.listOfTypesService.get_location_types(0,1e3).subscribe((function(t){e.location_types=t.content}))}},{key:"onChangeLocationType",value:function(){this.get_locations(this.page-1,this.size,this.location_type.id)}},{key:"onPaginateChange",value:function(t){this.paramId?this.get_locations(this.page-1,this.size,this.location_type.id):this.get_location_list(this.page-1,this.size,this.parentId,this.search_key)}},{key:"searchLocations",value:function(){this.paramId?this.get_locations(this.page-1,this.size,this.location_type.id,this.search_key):this.get_location_list(this.page-1,this.size,this.parentId,this.search_key)}},{key:"onRemoveLocation",value:function(t){var e=this;this.locationsService.remove_location(t.id).subscribe((function(t){e.toastr.success("Deleted Successfully!",""),e.ngOnInit()}),(function(t){e.baseService.handleError(t)}))}}])&&e(i.prototype,o),c&&e(i,c),n}()).\u0275fac=function(t){return new(t||I)(l.Mb(s.a),l.Mb(r.a),l.Mb(b.b),l.Mb(d.a),l.Mb(a.a),l.Mb(u.a))},I.\u0275cmp=l.Gb({type:I,selectors:[["app-locations"]],decls:27,vars:10,consts:[[1,"row"],[1,"col-lg-12","grid-margin","stretch-card","mb-0"],[1,"card"],[1,"card-body"],[1,"card-title","row"],[1,"col-md-12","text-left","pb-2"],["type","button","routerLink","add",1,"btn","btn-gradient-success","btn-rounded","btn-fw","btn-sm"],[1,"col-md-5","text-left"],[4,"ngIf"],[1,"col-md-3"],[1,"col-md-4"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","search location","aria-label","location",1,"form-control",3,"ngModel","keyup.enter","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-sm","btn-gradient-primary",3,"click"],["class","row",4,"ngIf"],["class","table-responsive pt-3",4,"ngIf"],[1,"col-lg-12","grid-margin","stretch-card"],[1,"card-body","pt-0"],["aria-label","Default pagination",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","page","pageChange"],["bindLabel","label","placeholder","Search Country",3,"items","virtualScroll","ngModel","keyup","change","ngModelChange"],[1,"col-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"far","fa-window-close","mr-1",2,"font-size","17px","color","red",3,"click"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[3,"click"],[1,"table-responsive","pt-3"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["alt","no images","width","100%","height","auto",1,"img-fluid",3,"src"],["style","cursor: pointer; color: #0b7dda;",3,"click",4,"ngIf"],["title","Edit","data-toggle","tooltip",1,"edit",3,"routerLink"],[1,"material-icons"],[1,"p-0"],["mwlConfirmationPopover","","placement","left",1,"btn","delete",3,"popoverTitle","popoverMessage","confirm","cancel"],[2,"cursor","pointer","color","#0b7dda",3,"click"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","m-5",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"text-center"],["src","./assets/icon/nodatafound.jpg","alt","not found image",1,"rounded",2,"width","400px","height","300px"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"div",3),l.Sb(4,"div",4),l.Sb(5,"div",5),l.Sb(6,"button",6),l.Lc(7,"Add "),l.Rb(),l.Rb(),l.Sb(8,"div",7),l.Jc(9,v,2,1,"h2",8),l.Rb(),l.Sb(10,"div",9),l.Jc(11,_,2,3,"div",8),l.Rb(),l.Sb(12,"div",10),l.Sb(13,"div",11),l.Sb(14,"div",12),l.Sb(15,"input",13),l.dc("keyup.enter",(function(){return e.searchLocations()}))("ngModelChange",(function(t){return e.search_key=t})),l.Rb(),l.Sb(16,"div",14),l.Sb(17,"button",15),l.dc("click",(function(){return e.searchLocations()})),l.Lc(18,"Search"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Jc(19,S,8,1,"div",16),l.Jc(20,L,20,1,"div",17),l.Jc(21,M,6,0,"div",16),l.Jc(22,C,4,0,"div",16),l.Rb(),l.Rb(),l.Rb(),l.Sb(23,"div",18),l.Sb(24,"div",2),l.Sb(25,"div",19),l.Sb(26,"ngb-pagination",20),l.dc("pageChange",(function(t){return e.page=t}))("pageChange",(function(t){return e.onPaginateChange(t)})),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.zb(9),l.mc("ngIf",e.paramId),l.zb(2),l.mc("ngIf",e.paramId),l.zb(4),l.mc("ngModel",e.search_key),l.zb(4),l.mc("ngIf",0!=e.selected_label_locations.length),l.zb(1),l.mc("ngIf",0==e.loading),l.zb(1),l.mc("ngIf",1==e.loading),l.zb(1),l.mc("ngIf",0==(null==e.locations?null:e.locations.totalElements)),l.zb(4),l.mc("collectionSize",null==e.locations?null:e.locations.totalElements)("pageSize",e.size)("page",e.page))},directives:[a.g,c.m,h.c,h.m,h.p,p.j,g.a,c.l,a.i,f.a],styles:[".card[_ngcontent-%COMP%]{border-radius:0}h2[_ngcontent-%COMP%]{font-size:26px;font-width:900}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{color:#ffc107;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{color:#e34724;cursor:pointer}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0a8ccb;cursor:pointer}"]}),I),P=o("uB8i"),J=[{path:"",component:T},{path:"add",component:P.a},{path:"add/:id",component:P.a},{path:":id/add",component:P.a},{path:":id",component:T}],x=((w=function e(){t(this,e)}).\u0275mod=l.Kb({type:w}),w.\u0275inj=l.Jb({factory:function(t){return new(t||w)},imports:[[a.j.forChild(J)],a.j]}),w),j=o("Q6Ar"),D=o("IheW"),E=o("ienR"),F=o("pMoy"),$=o("8Qe2"),A=o("Tj54"),G=((O=function e(){t(this,e)}).\u0275mod=l.Kb({type:O}),O.\u0275inj=l.Jb({factory:function(t){return new(t||O)},imports:[[c.c,x,p.k,p.h,h.j,g.b,j.b,D.b,f.b,h.s,E.c.forRoot(),E.d.forRoot(),F.b,$.b,A.b]]}),O)}}])}();